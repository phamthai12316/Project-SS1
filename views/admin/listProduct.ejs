<!doctype html>
<html lang="en">
<head>
    <%include ../layout/head.ejs%>
</head>
<body data-spy="scroll" data-target="#navbarResponsive">

<!-- Header-->
<nav class="navbar navbar-expand-md navbar-dark fixed-top">
    <div class="container">
        <!-- Logo -->
        <a class="navbar-brand" href="/"><img src="../img/Logo5.svg"></a>
        <!-- Search -->
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive">
            <span class="navbar-toggler-icon"></span>
        </button>
        <ul class="navbar-collapse collapse" id="navbarResponsive">
            <form class="mx-2 my-auto d-inline w-100">
                <div class="input-group">
                    <input type="text" class="form-control border border-right-0" placeholder="Search...">
                    <span class="input-group-append">
                    <button class="btn btn-outline border border-left-0" type="button">
                        <i class="fa fa-search"></i>
                    </button>
                    </span>
                </div>
            </form>
            <ul class="navbar-nav ml-auto">
                <li class="nav-item ">
                    <a class="nav-link" href="/">HOME</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/category">CATEGORY</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/about">ABOUT</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/contact">CONTACT</a>
                </li>
            </ul>
            <ul id="navbar-account" class="navbar-nav">
                <li class="nav-item dropdown">
                    <a class="nav-link" href="#" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <i class="fas fa-caret-down"></i>
                    </a>
                    <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownMenuLink">
                        <%  if (session._Id) {%>
                            <li>
                                <a href="/detail" class="dropdown-item"><span>Information</span></a>
                            </li>
                            <li>
                                <a href="/signOut" class="dropdown-item"><span>Sign Out</span></a>
                            </li>
                        <%  } else {    %>
                            <li>
                                <a href="/signIn" class="dropdown-item"><span>Sign In</span></a>
                            </li>
                            <li>
                                <a href="/signUp" class="dropdown-item"><span>Sign Up</span></a>
                            </li>
                        <%  }   %>
                    </ul>
                </li>
            </ul>
        </ul>
    </div>
</nav>
<hr style="margin-top: 5.5rem; margin-bottom: 1.5rem">

<div class="container">
    <h1> Products</h1>
    <table class="table">
        <thead>
        <th>Name</th>
        <th>Price</th>
        <th>Brand</th>
        <th>Origin</th>
        <th>Voltage</th>
        <th>Warranty</th>
        <th>Category</th>
        <th>Docs</th>
        <th>Image</th>
        </thead>
        <tbody>
        <% listData.forEach(function(product){ %>
        <tr>
            <td><%=product.productName%></td>
            <td><%=product.productPrice%></td>
            <td><%=product.productBrand%></td>
            <td><%=product.productOrigin%></td>
            <td><%=product.productVoltage%></td>
            <td><%=product.productWarranty%></td>
            <td><%=product.productCategory%></td>
            <td><a href="<%=product.productDocs%>">Docs</a></td>
            <td><img src="<%=product.productImage%>"></td>
        </tr>
        <% }) %>
        </tbody>
    </table>
</div>

<hr class="my-4">

<!--Pagination-->

<div class="container">
    <%
    if(parseInt(page) > 1){
    %>
        <span>
        <a href="listProduct?page=<%= parseInt(page) - 1 %>&limit=<%= limit %>">
            <i class="fa fa-chevron-left"></i></a>
    </span>
    <%
    }
    %>

    <span><%= page %></span>

    <%
    if(parseInt(page) < parseInt(totalPage)) {
    %>
    <span>
        <a href="listProduct?page=<%= parseInt(page) + 1 %>&limit=<%= limit %>">
            <i class="fa fa-chevron-right"></i>
        </a>
    </span>
    <%
    }
    %>
</div>

<!--Footer-->
<%include ../layout/footer.ejs%>

<!-- Src Script -->
<%include ../layout/script.ejs%>
</body>
</html>